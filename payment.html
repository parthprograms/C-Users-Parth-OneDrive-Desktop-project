<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Subscription Payment</title>
    <style>
        body { font-family: Arial, sans-serif; background-color: #fff; text-align: center; }
        .payment-container { width: 400px; margin: 50px auto; padding: 20px; background: #f8f8f8; border-radius: 8px; box-shadow: 0px 0px 10px gray; }
        input, select { width: 90%; padding: 10px; margin: 10px 0; border: 1px solid #ccc; border-radius: 4px; }
        button { background: #003366; color: white; padding: 10px; border: none; cursor: pointer; width: 100%; border-radius: 4px; }
        button:hover { background: #0055aa; }
        .hidden { display: none; }
    </style>
    <script>
        if (!sessionStorage.getItem("loggedInUser")) {
            window.location.href = "login.html"; // Redirect to login page if not logged in
        }

        function updatePrice() {
            let plan = document.getElementById("plan").value;
            let price = {
                "basic": 10,
                "standard": 25,
                "premium": 50,
                "platinum": 90
            };
            document.getElementById("amount").value = "$" + price[plan];
        }

        function changePaymentMethod() {
            let method = document.getElementById("paymentMethod").value;
            let cardFields = document.getElementById("cardFields");
            let upiField = document.getElementById("upiField");

            if (method === "upi") {
                cardFields.classList.add("hidden");
                upiField.classList.remove("hidden");
            } else {
                cardFields.classList.remove("hidden");
                upiField.classList.add("hidden");
            }
        }

        function confirmPayment() {
            alert("Payment Successful! Your subscription is now active.");
            window.location.href = "dashboard.html"; // Redirect to dashboard after payment
        }
    </script>
</head>
<body>
    <h1>Complete Your Subscription Payment</h1>
    <div class="payment-container">
        <label for="plan">Select Subscription Plan:</label>
        <select id="plan" onchange="updatePrice()">
            <option value="basic">Basic - 1 Month ($10)</option>
            <option value="standard">Standard - 3 Months ($25)</option>
            <option value="premium">Premium - 6 Months ($50)</option>
            <option value="platinum">Platinum - 12 Months ($90)</option>
        </select>

        <label for="amount">Amount:</label>
        <input type="text" id="amount" value="$10" readonly>

        <label for="paymentMethod">Payment Method:</label>
        <select id="paymentMethod" onchange="changePaymentMethod()">
            <option value="creditCard">Credit Card</option>
            <option value="debitCard">Debit Card</option>
            <option value="upi">UPI</option>
        </select>

        <div id="cardFields">
            <label for="cardNumber">Card Number:</label>
            <input type="text" id="cardNumber" placeholder="1234 5678 9012 3456" required>

            <label for="expiry">Expiry Date:</label>
            <input type="month" id="expiry" required>

            <label for="cvv">CVV:</label>
            <input type="text" id="cvv" placeholder="123" required>

            <label for="name">Cardholder Name:</label>
            <input type="text" id="name" placeholder="John Doe" required>
        </div>

        <div id="upiField" class="hidden">
            <label for="upiId">UPI ID:</label>
            <input type="text" id="upiId" placeholder="yourname@upi" required>
        </div>

        <button onclick="confirmPayment()">Pay Now</button>
    </div>
</body>
</html>
